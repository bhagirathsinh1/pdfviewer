{
    "sourceFile": "lib/dialogue/rename_dialouge.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 60,
            "patches": [
                {
                    "date": 1642076212258,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1642077085721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -74,23 +74,22 @@\n \r\n   changeFileNameOnly(BuildContext context, String newFileName) async {\r\n     print(\"------------->arrived new name----$newFileName--------\");\r\n     var providerService = Provider.of<PdfFileService>(context, listen: false);\r\n+    var pdfServiceIndex = providerService.files[widget.index];\r\n+    var temp1 = pdfServiceIndex.referenceFile!.path;\r\n \r\n-    var temp1 = providerService.files[widget.index].referenceFile!.path;\r\n-\r\n     var lastSeparator = temp1.lastIndexOf(Platform.pathSeparator);\r\n     var newPath = temp1.substring(0, lastSeparator + 1) + newFileName + \".pdf\";\r\n \r\n-    var filename = await providerService.files[widget.index].referenceFile!\r\n-        .rename(newPath);\r\n+    var filename = await pdfServiceIndex.referenceFile!.rename(newPath);\r\n \r\n     print(\"-------------v.path data---------------- ${filename.path}\");\r\n \r\n-    providerService.files[widget.index].referenceFile = filename;\r\n-    providerService.files[widget.index].pdfpath = filename.path;\r\n+    pdfServiceIndex.referenceFile = filename;\r\n+    pdfServiceIndex.pdfpath = filename.path;\r\n \r\n-    providerService.files[widget.index].pdfname = filename.path.split('/').last;\r\n+    pdfServiceIndex.pdfname = filename.path.split('/').last;\r\n \r\n     providerService.getStorageFilleMethod();\r\n \r\n     Navigator.pop(context);\r\n"
                },
                {
                    "date": 1642393581492,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,10 @@\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n }\r\n \r\n class _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n+  bool isLoading = false;\r\n+\r\n   final _formKeyRenameFile = GlobalKey<FormState>();\r\n   TextEditingController renameController = TextEditingController();\r\n   @override\r\n   void initState() {\r\n@@ -64,16 +66,19 @@\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             changeFileNameOnly(context, newFileName);\r\n-            Navigator.pop(context);\r\n+            // Navigator.pop(context);\r\n           },\r\n         )\r\n       ],\r\n     );\r\n   }\r\n \r\n   changeFileNameOnly(BuildContext context, String newFileName) async {\r\n+    setState(() {\r\n+      isLoading = true;\r\n+    });\r\n     print(\"------------->arrived new name----$newFileName--------\");\r\n     var providerService = Provider.of<PdfFileService>(context, listen: false);\r\n     var pdfServiceIndex = providerService.files[widget.index];\r\n     var temp1 = pdfServiceIndex.referenceFile!.path;\r\n"
                },
                {
                    "date": 1642393609120,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -95,9 +95,11 @@\n \r\n     pdfServiceIndex.pdfname = filename.path.split('/').last;\r\n \r\n     providerService.getStorageFilleMethod();\r\n-\r\n+    setState(() {\r\n+      isLoading = false;\r\n+    });\r\n     Navigator.pop(context);\r\n     ScaffoldMessenger.of(context).clearSnackBars();\r\n     ScaffoldMessenger.of(context).showSnackBar(\r\n       SnackBar(\r\n"
                },
                {
                    "date": 1642393709351,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,9 +61,13 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: Text(\"OK\"),\r\n+          child: isLoading\r\n+              ? Center(\r\n+                  child: CircularProgressIndicator(),\r\n+                )\r\n+              : Text(\"OK\"),\r\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             changeFileNameOnly(context, newFileName);\r\n"
                },
                {
                    "date": 1642393822026,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -78,19 +78,18 @@\n     );\r\n   }\r\n \r\n   changeFileNameOnly(BuildContext context, String newFileName) async {\r\n-    setState(() {\r\n-      isLoading = true;\r\n-    });\r\n     print(\"------------->arrived new name----$newFileName--------\");\r\n     var providerService = Provider.of<PdfFileService>(context, listen: false);\r\n     var pdfServiceIndex = providerService.files[widget.index];\r\n     var temp1 = pdfServiceIndex.referenceFile!.path;\r\n \r\n     var lastSeparator = temp1.lastIndexOf(Platform.pathSeparator);\r\n     var newPath = temp1.substring(0, lastSeparator + 1) + newFileName + \".pdf\";\r\n-\r\n+    setState(() {\r\n+      isLoading = true;\r\n+    });\r\n     var filename = await pdfServiceIndex.referenceFile!.rename(newPath);\r\n \r\n     print(\"-------------v.path data---------------- ${filename.path}\");\r\n \r\n"
                },
                {
                    "date": 1642393872551,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     pdfServiceIndex.pdfpath = filename.path;\r\n \r\n     pdfServiceIndex.pdfname = filename.path.split('/').last;\r\n \r\n-    providerService.getStorageFilleMethod();\r\n+    await providerService.getStorageFilleMethod();\r\n     setState(() {\r\n       isLoading = false;\r\n     });\r\n     Navigator.pop(context);\r\n"
                },
                {
                    "date": 1642394005431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,13 +61,15 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: isLoading\r\n-              ? Center(\r\n-                  child: CircularProgressIndicator(),\r\n-                )\r\n-              : Text(\"OK\"),\r\n+          child:\r\n+              // isLoading\r\n+              //     ? Center(\r\n+              //         child: CircularProgressIndicator(),\r\n+              //       )\r\n+              //     :\r\n+              Text(\"OK\"),\r\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             changeFileNameOnly(context, newFileName);\r\n"
                },
                {
                    "date": 1642394136898,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -61,15 +61,13 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child:\r\n-              // isLoading\r\n-              //     ? Center(\r\n-              //         child: CircularProgressIndicator(),\r\n-              //       )\r\n-              //     :\r\n-              Text(\"OK\"),\r\n+          child: isLoading\r\n+              ? Center(\r\n+                  child: Text('loading...'),\r\n+                )\r\n+              : Text(\"OK\"),\r\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             changeFileNameOnly(context, newFileName);\r\n"
                },
                {
                    "date": 1642394196843,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,12 +63,14 @@\n         ),\r\n         TextButton(\r\n           child: isLoading\r\n               ? Center(\r\n-                  child: Text('loading...'),\r\n+                  child: CircularProgressIndicator(),\r\n                 )\r\n               : Text(\"OK\"),\r\n           onPressed: () {\r\n+            Navigator.pop(context);\r\n+\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n"
                },
                {
                    "date": 1642394221935,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n                   child: CircularProgressIndicator(),\r\n                 )\r\n               : Text(\"OK\"),\r\n           onPressed: () {\r\n-            Navigator.pop(context);\r\n+            //             // Navigator.pop(context);\r\n \r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             changeFileNameOnly(context, newFileName);\r\n"
                },
                {
                    "date": 1642394311075,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,10 +67,8 @@\n                   child: CircularProgressIndicator(),\r\n                 )\r\n               : Text(\"OK\"),\r\n           onPressed: () {\r\n-            //             // Navigator.pop(context);\r\n-\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n@@ -100,16 +98,17 @@\n \r\n     pdfServiceIndex.pdfname = filename.path.split('/').last;\r\n \r\n     await providerService.getStorageFilleMethod();\r\n-    setState(() {\r\n-      isLoading = false;\r\n-    });\r\n+\r\n     Navigator.pop(context);\r\n     ScaffoldMessenger.of(context).clearSnackBars();\r\n     ScaffoldMessenger.of(context).showSnackBar(\r\n       SnackBar(\r\n         content: Text(\"Renamed to  ${newFileName}\"),\r\n       ),\r\n     );\r\n+    setState(() {\r\n+      isLoading = false;\r\n+    });\r\n   }\r\n }\r\n"
                },
                {
                    "date": 1642394431326,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,9 +63,11 @@\n         ),\r\n         TextButton(\r\n           child: isLoading\r\n               ? Center(\r\n-                  child: CircularProgressIndicator(),\r\n+                  child: Center(\r\n+                    child: Text(\"Loading...\"),\r\n+                  ),\r\n                 )\r\n               : Text(\"OK\"),\r\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n"
                },
                {
                    "date": 1642394514374,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -63,11 +63,9 @@\n         ),\r\n         TextButton(\r\n           child: isLoading\r\n               ? Center(\r\n-                  child: Center(\r\n-                    child: Text(\"Loading...\"),\r\n-                  ),\r\n+                  child: Text(\"Loading...\"),\r\n                 )\r\n               : Text(\"OK\"),\r\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n"
                },
                {
                    "date": 1642394815218,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,9 @@\n     pdfServiceIndex.pdfpath = filename.path;\r\n \r\n     pdfServiceIndex.pdfname = filename.path.split('/').last;\r\n \r\n-    await providerService.getStorageFilleMethod();\r\n+    providerService.getStorageFilleMethod();\r\n \r\n     Navigator.pop(context);\r\n     ScaffoldMessenger.of(context).clearSnackBars();\r\n     ScaffoldMessenger.of(context).showSnackBar(\r\n"
                },
                {
                    "date": 1642404207721,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,9 +27,10 @@\n \r\n   // set up the AlertDialog\r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    return AlertDialog(\r\n+    return Consumer<PdfFileService>(builder: (context, counter, child) {\r\n+      return AlertDialog(\r\n       title: Text(\"Alert!\"),\r\n       content: Container(\r\n         height: 70,\r\n         child: Form(\r\n@@ -75,9 +76,9 @@\n           },\r\n         )\r\n       ],\r\n     );\r\n-  }\r\n+  },);\r\n \r\n   changeFileNameOnly(BuildContext context, String newFileName) async {\r\n     print(\"------------->arrived new name----$newFileName--------\");\r\n     var providerService = Provider.of<PdfFileService>(context, listen: false);\r\n"
                },
                {
                    "date": 1642404422989,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -27,10 +27,9 @@\n \r\n   // set up the AlertDialog\r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    return Consumer<PdfFileService>(builder: (context, counter, child) {\r\n-      return AlertDialog(\r\n+    return AlertDialog(\r\n       title: Text(\"Alert!\"),\r\n       content: Container(\r\n         height: 70,\r\n         child: Form(\r\n@@ -76,9 +75,9 @@\n           },\r\n         )\r\n       ],\r\n     );\r\n-  },);\r\n+  }\r\n \r\n   changeFileNameOnly(BuildContext context, String newFileName) async {\r\n     print(\"------------->arrived new name----$newFileName--------\");\r\n     var providerService = Provider.of<PdfFileService>(context, listen: false);\r\n"
                },
                {
                    "date": 1642485063899,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -6,9 +6,15 @@\n \r\n class RenameFileDialouge extends StatefulWidget {\r\n   final int index;\r\n   final String fileName;\r\n-  RenameFileDialouge({Key? key, required this.index, required this.fileName})\r\n+  final Function callback;\r\n+\r\n+  RenameFileDialouge(\r\n+      {Key? key,\r\n+      required this.index,\r\n+      required this.fileName,\r\n+      required this.callback})\r\n       : super(key: key);\r\n \r\n   @override\r\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n"
                },
                {
                    "date": 1642485195185,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,8 +75,9 @@\n               : Text(\"OK\"),\r\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n+            widget.callback(newFileName);\r\n             changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n         )\r\n"
                },
                {
                    "date": 1642485661927,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,46 +76,12 @@\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             widget.callback(newFileName);\r\n-            changeFileNameOnly(context, newFileName);\r\n+            // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n         )\r\n       ],\r\n     );\r\n   }\r\n-\r\n-  changeFileNameOnly(BuildContext context, String newFileName) async {\r\n-    print(\"------------->arrived new name----$newFileName--------\");\r\n-    var providerService = Provider.of<PdfFileService>(context, listen: false);\r\n-    var pdfServiceIndex = providerService.files[widget.index];\r\n-    var temp1 = pdfServiceIndex.referenceFile!.path;\r\n-\r\n-    var lastSeparator = temp1.lastIndexOf(Platform.pathSeparator);\r\n-    var newPath = temp1.substring(0, lastSeparator + 1) + newFileName + \".pdf\";\r\n-    setState(() {\r\n-      isLoading = true;\r\n-    });\r\n-    var filename = await pdfServiceIndex.referenceFile!.rename(newPath);\r\n-\r\n-    print(\"-------------v.path data---------------- ${filename.path}\");\r\n-\r\n-    pdfServiceIndex.referenceFile = filename;\r\n-    pdfServiceIndex.pdfpath = filename.path;\r\n-\r\n-    pdfServiceIndex.pdfname = filename.path.split('/').last;\r\n-\r\n-    providerService.getStorageFilleMethod();\r\n-\r\n-    Navigator.pop(context);\r\n-    ScaffoldMessenger.of(context).clearSnackBars();\r\n-    ScaffoldMessenger.of(context).showSnackBar(\r\n-      SnackBar(\r\n-        content: Text(\"Renamed to  ${newFileName}\"),\r\n-      ),\r\n-    );\r\n-    setState(() {\r\n-      isLoading = false;\r\n-    });\r\n-  }\r\n }\r\n"
                },
                {
                    "date": 1642485885077,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,8 +76,9 @@\n           onPressed: () {\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             widget.callback(newFileName);\r\n+            Navigator.pop(context);\r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n         )\r\n"
                },
                {
                    "date": 1642487246463,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,11 +73,17 @@\n                   child: Text(\"Loading...\"),\r\n                 )\r\n               : Text(\"OK\"),\r\n           onPressed: () {\r\n+            setState(() {\r\n+              isLoading = true;\r\n+            });\r\n             var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             widget.callback(newFileName);\r\n+            setState(() {\r\n+              isLoading = false;\r\n+            });\r\n             Navigator.pop(context);\r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n"
                },
                {
                    "date": 1642487551367,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,62 +33,64 @@\n \r\n   // set up the AlertDialog\r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    return AlertDialog(\r\n-      title: Text(\"Alert!\"),\r\n-      content: Container(\r\n-        height: 70,\r\n-        child: Form(\r\n-          key: _formKeyRenameFile,\r\n-          child: Column(\r\n-            mainAxisSize: MainAxisSize.min,\r\n-            children: [\r\n-              TextFormField(\r\n-                controller: renameController,\r\n-                validator: (value) {\r\n-                  if (value != null && value != \"\") {\r\n-                    return null;\r\n-                  }\r\n+    return isLoading\r\n+        ? CircularProgressIndicator()\r\n+        : AlertDialog(\r\n+            title: Text(\"Alert!\"),\r\n+            content: Container(\r\n+              height: 70,\r\n+              child: Form(\r\n+                key: _formKeyRenameFile,\r\n+                child: Column(\r\n+                  mainAxisSize: MainAxisSize.min,\r\n+                  children: [\r\n+                    TextFormField(\r\n+                      controller: renameController,\r\n+                      validator: (value) {\r\n+                        if (value != null && value != \"\") {\r\n+                          return null;\r\n+                        }\r\n+                      },\r\n+                      keyboardType: TextInputType.text,\r\n+                      // Only numbers can be entered\r\n+                      decoration: const InputDecoration(\r\n+                          border: UnderlineInputBorder(),\r\n+                          helperText: 'Enter new name here '),\r\n+                    ),\r\n+                  ],\r\n+                ),\r\n+              ),\r\n+            ),\r\n+            actions: [\r\n+              TextButton(\r\n+                child: Text(\"CANCEL\"),\r\n+                onPressed: () {\r\n+                  Navigator.pop(context);\r\n                 },\r\n-                keyboardType: TextInputType.text,\r\n-                // Only numbers can be entered\r\n-                decoration: const InputDecoration(\r\n-                    border: UnderlineInputBorder(),\r\n-                    helperText: 'Enter new name here '),\r\n               ),\r\n+              TextButton(\r\n+                child: isLoading\r\n+                    ? Center(\r\n+                        child: Text(\"Loading...\"),\r\n+                      )\r\n+                    : Text(\"OK\"),\r\n+                onPressed: () {\r\n+                  setState(() {\r\n+                    isLoading = true;\r\n+                  });\r\n+                  var newFileName = renameController.text;\r\n+                  print(newFileName.split('.'));\r\n+                  widget.callback(newFileName);\r\n+                  setState(() {\r\n+                    isLoading = false;\r\n+                  });\r\n+                  Navigator.pop(context);\r\n+                  // changeFileNameOnly(context, newFileName);\r\n+                  // Navigator.pop(context);\r\n+                },\r\n+              )\r\n             ],\r\n-          ),\r\n-        ),\r\n-      ),\r\n-      actions: [\r\n-        TextButton(\r\n-          child: Text(\"CANCEL\"),\r\n-          onPressed: () {\r\n-            Navigator.pop(context);\r\n-          },\r\n-        ),\r\n-        TextButton(\r\n-          child: isLoading\r\n-              ? Center(\r\n-                  child: Text(\"Loading...\"),\r\n-                )\r\n-              : Text(\"OK\"),\r\n-          onPressed: () {\r\n-            setState(() {\r\n-              isLoading = true;\r\n-            });\r\n-            var newFileName = renameController.text;\r\n-            print(newFileName.split('.'));\r\n-            widget.callback(newFileName);\r\n-            setState(() {\r\n-              isLoading = false;\r\n-            });\r\n-            Navigator.pop(context);\r\n-            // changeFileNameOnly(context, newFileName);\r\n-            // Navigator.pop(context);\r\n-          },\r\n-        )\r\n-      ],\r\n-    );\r\n+          );\r\n   }\r\n }\r\n"
                },
                {
                    "date": 1642487574181,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,13 +69,9 @@\n                   Navigator.pop(context);\r\n                 },\r\n               ),\r\n               TextButton(\r\n-                child: isLoading\r\n-                    ? Center(\r\n-                        child: Text(\"Loading...\"),\r\n-                      )\r\n-                    : Text(\"OK\"),\r\n+                child: Text(\"OK\"),\r\n                 onPressed: () {\r\n                   setState(() {\r\n                     isLoading = true;\r\n                   });\r\n"
                },
                {
                    "date": 1642487656715,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n }\r\n \r\n class _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n-  bool isLoading = false;\r\n+  bool isLoading = true;\r\n \r\n   final _formKeyRenameFile = GlobalKey<FormState>();\r\n   TextEditingController renameController = TextEditingController();\r\n   @override\r\n"
                },
                {
                    "date": 1642487755900,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n }\r\n \r\n class _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n-  bool isLoading = true;\r\n+  bool isLoading = false;\r\n \r\n   final _formKeyRenameFile = GlobalKey<FormState>();\r\n   TextEditingController renameController = TextEditingController();\r\n   @override\r\n@@ -34,9 +34,9 @@\n   // set up the AlertDialog\r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return isLoading\r\n-        ? CircularProgressIndicator()\r\n+        ? SizedBox(height: 20, width: 20, child: CircularProgressIndicator())\r\n         : AlertDialog(\r\n             title: Text(\"Alert!\"),\r\n             content: Container(\r\n               height: 70,\r\n"
                },
                {
                    "date": 1642487813571,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n }\r\n \r\n class _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n-  bool isLoading = false;\r\n+  bool isLoading = true;\r\n \r\n   final _formKeyRenameFile = GlobalKey<FormState>();\r\n   TextEditingController renameController = TextEditingController();\r\n   @override\r\n"
                },
                {
                    "date": 1642487852858,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,9 +34,11 @@\n   // set up the AlertDialog\r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return isLoading\r\n-        ? SizedBox(height: 20, width: 20, child: CircularProgressIndicator())\r\n+        ? Center(\r\n+            child: SizedBox(\r\n+                height: 20, width: 20, child: CircularProgressIndicator()))\r\n         : AlertDialog(\r\n             title: Text(\"Alert!\"),\r\n             content: Container(\r\n               height: 70,\r\n"
                },
                {
                    "date": 1642487871583,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n }\r\n \r\n class _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n-  bool isLoading = true;\r\n+  bool isLoading = false;\r\n \r\n   final _formKeyRenameFile = GlobalKey<FormState>();\r\n   TextEditingController renameController = TextEditingController();\r\n   @override\r\n"
                },
                {
                    "date": 1642487893200,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n }\r\n \r\n class _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n-  bool isLoading = false;\r\n+  bool isLoading = true;\r\n \r\n   final _formKeyRenameFile = GlobalKey<FormState>();\r\n   TextEditingController renameController = TextEditingController();\r\n   @override\r\n"
                },
                {
                    "date": 1642487914568,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,9 +20,9 @@\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n }\r\n \r\n class _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n-  bool isLoading = true;\r\n+  bool isLoading = false;\r\n \r\n   final _formKeyRenameFile = GlobalKey<FormState>();\r\n   TextEditingController renameController = TextEditingController();\r\n   @override\r\n"
                },
                {
                    "date": 1642487940772,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -79,12 +79,13 @@\n                   });\r\n                   var newFileName = renameController.text;\r\n                   print(newFileName.split('.'));\r\n                   widget.callback(newFileName);\r\n+\r\n+                  Navigator.pop(context);\r\n                   setState(() {\r\n                     isLoading = false;\r\n                   });\r\n-                  Navigator.pop(context);\r\n                   // changeFileNameOnly(context, newFileName);\r\n                   // Navigator.pop(context);\r\n                 },\r\n               )\r\n"
                },
                {
                    "date": 1642487994127,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,15 +72,15 @@\n                 },\r\n               ),\r\n               TextButton(\r\n                 child: Text(\"OK\"),\r\n-                onPressed: () {\r\n+                onPressed: () async {\r\n                   setState(() {\r\n                     isLoading = true;\r\n                   });\r\n                   var newFileName = renameController.text;\r\n                   print(newFileName.split('.'));\r\n-                  widget.callback(newFileName);\r\n+                  await widget.callback(newFileName);\r\n \r\n                   Navigator.pop(context);\r\n                   setState(() {\r\n                     isLoading = false;\r\n"
                },
                {
                    "date": 1642488043121,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,16 +73,17 @@\n               ),\r\n               TextButton(\r\n                 child: Text(\"OK\"),\r\n                 onPressed: () async {\r\n+                  Navigator.pop(context);\r\n+\r\n                   setState(() {\r\n                     isLoading = true;\r\n                   });\r\n                   var newFileName = renameController.text;\r\n                   print(newFileName.split('.'));\r\n                   await widget.callback(newFileName);\r\n \r\n-                  Navigator.pop(context);\r\n                   setState(() {\r\n                     isLoading = false;\r\n                   });\r\n                   // changeFileNameOnly(context, newFileName);\r\n"
                },
                {
                    "date": 1642488143429,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,18 +75,18 @@\n                 child: Text(\"OK\"),\r\n                 onPressed: () async {\r\n                   Navigator.pop(context);\r\n \r\n-                  setState(() {\r\n-                    isLoading = true;\r\n-                  });\r\n-                  var newFileName = renameController.text;\r\n-                  print(newFileName.split('.'));\r\n-                  await widget.callback(newFileName);\r\n+                  // setState(() {\r\n+                  //   isLoading = true;\r\n+                  // });\r\n+                  // var newFileName = renameController.text;\r\n+                  // print(newFileName.split('.'));\r\n+                  // await widget.callback(newFileName);\r\n \r\n-                  setState(() {\r\n-                    isLoading = false;\r\n-                  });\r\n+                  // setState(() {\r\n+                  //   isLoading = false;\r\n+                  // });\r\n                   // changeFileNameOnly(context, newFileName);\r\n                   // Navigator.pop(context);\r\n                 },\r\n               )\r\n"
                },
                {
                    "date": 1642488177310,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,20 +75,20 @@\n                 child: Text(\"OK\"),\r\n                 onPressed: () async {\r\n                   Navigator.pop(context);\r\n \r\n-                  // setState(() {\r\n-                  //   isLoading = true;\r\n-                  // });\r\n-                  // var newFileName = renameController.text;\r\n-                  // print(newFileName.split('.'));\r\n-                  // await widget.callback(newFileName);\r\n+                  setState(() {\r\n+                    isLoading = true;\r\n+                  });\r\n+                  var newFileName = renameController.text;\r\n+                  print(newFileName.split('.'));\r\n+                  await widget.callback(newFileName);\r\n \r\n-                  // setState(() {\r\n-                  //   isLoading = false;\r\n-                  // });\r\n-                  // changeFileNameOnly(context, newFileName);\r\n-                  // Navigator.pop(context);\r\n+                  setState(() {\r\n+                    isLoading = false;\r\n+                  });\r\n+                  changeFileNameOnly(context, newFileName);\r\n+                  Navigator.pop(context);\r\n                 },\r\n               )\r\n             ],\r\n           );\r\n"
                },
                {
                    "date": 1642488195169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -85,10 +85,10 @@\n \r\n                   setState(() {\r\n                     isLoading = false;\r\n                   });\r\n-                  changeFileNameOnly(context, newFileName);\r\n-                  Navigator.pop(context);\r\n+                  // changeFileNameOnly(context, newFileName);\r\n+                  // Navigator.pop(context);\r\n                 },\r\n               )\r\n             ],\r\n           );\r\n"
                },
                {
                    "date": 1642488242264,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -34,11 +34,9 @@\n   // set up the AlertDialog\r\n   @override\r\n   Widget build(BuildContext context) {\r\n     return isLoading\r\n-        ? Center(\r\n-            child: SizedBox(\r\n-                height: 20, width: 20, child: CircularProgressIndicator()))\r\n+        ? Center(child: Text(\"Loading...\"))\r\n         : AlertDialog(\r\n             title: Text(\"Alert!\"),\r\n             content: Container(\r\n               height: 70,\r\n"
                },
                {
                    "date": 1642488271106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -33,62 +33,60 @@\n \r\n   // set up the AlertDialog\r\n   @override\r\n   Widget build(BuildContext context) {\r\n-    return isLoading\r\n-        ? Center(child: Text(\"Loading...\"))\r\n-        : AlertDialog(\r\n-            title: Text(\"Alert!\"),\r\n-            content: Container(\r\n-              height: 70,\r\n-              child: Form(\r\n-                key: _formKeyRenameFile,\r\n-                child: Column(\r\n-                  mainAxisSize: MainAxisSize.min,\r\n-                  children: [\r\n-                    TextFormField(\r\n-                      controller: renameController,\r\n-                      validator: (value) {\r\n-                        if (value != null && value != \"\") {\r\n-                          return null;\r\n-                        }\r\n-                      },\r\n-                      keyboardType: TextInputType.text,\r\n-                      // Only numbers can be entered\r\n-                      decoration: const InputDecoration(\r\n-                          border: UnderlineInputBorder(),\r\n-                          helperText: 'Enter new name here '),\r\n-                    ),\r\n-                  ],\r\n-                ),\r\n-              ),\r\n-            ),\r\n-            actions: [\r\n-              TextButton(\r\n-                child: Text(\"CANCEL\"),\r\n-                onPressed: () {\r\n-                  Navigator.pop(context);\r\n+    return AlertDialog(\r\n+      title: Text(\"Alert!\"),\r\n+      content: Container(\r\n+        height: 70,\r\n+        child: Form(\r\n+          key: _formKeyRenameFile,\r\n+          child: Column(\r\n+            mainAxisSize: MainAxisSize.min,\r\n+            children: [\r\n+              TextFormField(\r\n+                controller: renameController,\r\n+                validator: (value) {\r\n+                  if (value != null && value != \"\") {\r\n+                    return null;\r\n+                  }\r\n                 },\r\n+                keyboardType: TextInputType.text,\r\n+                // Only numbers can be entered\r\n+                decoration: const InputDecoration(\r\n+                    border: UnderlineInputBorder(),\r\n+                    helperText: 'Enter new name here '),\r\n               ),\r\n-              TextButton(\r\n-                child: Text(\"OK\"),\r\n-                onPressed: () async {\r\n-                  Navigator.pop(context);\r\n+            ],\r\n+          ),\r\n+        ),\r\n+      ),\r\n+      actions: [\r\n+        TextButton(\r\n+          child: Text(\"CANCEL\"),\r\n+          onPressed: () {\r\n+            Navigator.pop(context);\r\n+          },\r\n+        ),\r\n+        TextButton(\r\n+          child: Text(\"OK\"),\r\n+          onPressed: () async {\r\n+            Navigator.pop(context);\r\n \r\n-                  setState(() {\r\n-                    isLoading = true;\r\n-                  });\r\n-                  var newFileName = renameController.text;\r\n-                  print(newFileName.split('.'));\r\n-                  await widget.callback(newFileName);\r\n+            setState(() {\r\n+              isLoading = true;\r\n+            });\r\n+            var newFileName = renameController.text;\r\n+            print(newFileName.split('.'));\r\n+            await widget.callback(newFileName);\r\n \r\n-                  setState(() {\r\n-                    isLoading = false;\r\n-                  });\r\n-                  // changeFileNameOnly(context, newFileName);\r\n-                  // Navigator.pop(context);\r\n-                },\r\n-              )\r\n-            ],\r\n-          );\r\n+            setState(() {\r\n+              isLoading = false;\r\n+            });\r\n+            // changeFileNameOnly(context, newFileName);\r\n+            // Navigator.pop(context);\r\n+          },\r\n+        )\r\n+      ],\r\n+    );\r\n   }\r\n }\r\n"
                },
                {
                    "date": 1642488319243,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,9 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: Text(\"OK\"),\r\n+          child: isLoading ? Center(child: Text(\"Loading...\")) : Text(\"OK\"),\r\n           onPressed: () async {\r\n             Navigator.pop(context);\r\n \r\n             setState(() {\r\n"
                },
                {
                    "date": 1642488447727,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,10 +69,8 @@\n         ),\r\n         TextButton(\r\n           child: isLoading ? Center(child: Text(\"Loading...\")) : Text(\"OK\"),\r\n           onPressed: () async {\r\n-            Navigator.pop(context);\r\n-\r\n             setState(() {\r\n               isLoading = true;\r\n             });\r\n             var newFileName = renameController.text;\r\n@@ -81,8 +79,10 @@\n \r\n             setState(() {\r\n               isLoading = false;\r\n             });\r\n+            Navigator.pop(context);\r\n+\r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n         )\r\n"
                },
                {
                    "date": 1642488538037,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,16 +72,16 @@\n           onPressed: () async {\r\n             setState(() {\r\n               isLoading = true;\r\n             });\r\n-            var newFileName = renameController.text;\r\n-            print(newFileName.split('.'));\r\n-            await widget.callback(newFileName);\r\n+            // var newFileName = renameController.text;\r\n+            // print(newFileName.split('.'));\r\n+            // await widget.callback(newFileName);\r\n \r\n-            setState(() {\r\n-              isLoading = false;\r\n-            });\r\n-            Navigator.pop(context);\r\n+            // setState(() {\r\n+            //   isLoading = false;\r\n+            // });\r\n+            // Navigator.pop(context);\r\n \r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n"
                },
                {
                    "date": 1642488597865,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -72,16 +72,16 @@\n           onPressed: () async {\r\n             setState(() {\r\n               isLoading = true;\r\n             });\r\n-            // var newFileName = renameController.text;\r\n-            // print(newFileName.split('.'));\r\n-            // await widget.callback(newFileName);\r\n+            var newFileName = renameController.text;\r\n+            print(newFileName.split('.'));\r\n+            await widget.callback(newFileName);\r\n \r\n-            // setState(() {\r\n-            //   isLoading = false;\r\n-            // });\r\n-            // Navigator.pop(context);\r\n+            setState(() {\r\n+              isLoading = false;\r\n+            });\r\n+            Navigator.pop(context);\r\n \r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n"
                },
                {
                    "date": 1642488716323,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,12 +69,13 @@\n         ),\r\n         TextButton(\r\n           child: isLoading ? Center(child: Text(\"Loading...\")) : Text(\"OK\"),\r\n           onPressed: () async {\r\n+            var newFileName = renameController.text;\r\n+\r\n             setState(() {\r\n               isLoading = true;\r\n             });\r\n-            var newFileName = renameController.text;\r\n             print(newFileName.split('.'));\r\n             await widget.callback(newFileName);\r\n \r\n             setState(() {\r\n"
                },
                {
                    "date": 1642488847799,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,17 +71,14 @@\n           child: isLoading ? Center(child: Text(\"Loading...\")) : Text(\"OK\"),\r\n           onPressed: () async {\r\n             var newFileName = renameController.text;\r\n \r\n-            setState(() {\r\n-              isLoading = true;\r\n-            });\r\n+            isLoading = true;\r\n             print(newFileName.split('.'));\r\n             await widget.callback(newFileName);\r\n \r\n-            setState(() {\r\n-              isLoading = false;\r\n-            });\r\n+            isLoading = false;\r\n+\r\n             Navigator.pop(context);\r\n \r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n"
                },
                {
                    "date": 1642488898145,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -71,14 +71,17 @@\n           child: isLoading ? Center(child: Text(\"Loading...\")) : Text(\"OK\"),\r\n           onPressed: () async {\r\n             var newFileName = renameController.text;\r\n \r\n-            isLoading = true;\r\n+            setState(() {\r\n+              isLoading = true;\r\n+            });\r\n             print(newFileName.split('.'));\r\n             await widget.callback(newFileName);\r\n \r\n-            isLoading = false;\r\n-\r\n+            setState(() {\r\n+              isLoading = false;\r\n+            });\r\n             Navigator.pop(context);\r\n \r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n"
                },
                {
                    "date": 1642489007106,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,15 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: isLoading ? Center(child: Text(\"Loading...\")) : Text(\"OK\"),\r\n+          child: isLoading\r\n+              ? SizedBox(\r\n+                  child: CircularProgressIndicator(),\r\n+                  height: 20,\r\n+                  width: 20,\r\n+                )\r\n+              : Text(\"OK\"),\r\n           onPressed: () async {\r\n             var newFileName = renameController.text;\r\n \r\n             setState(() {\r\n"
                },
                {
                    "date": 1642489120618,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,15 +67,9 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: isLoading\r\n-              ? SizedBox(\r\n-                  child: CircularProgressIndicator(),\r\n-                  height: 20,\r\n-                  width: 20,\r\n-                )\r\n-              : Text(\"OK\"),\r\n+          child: isLoading ? Text('loading...') : Text(\"OK\"),\r\n           onPressed: () async {\r\n             var newFileName = renameController.text;\r\n \r\n             setState(() {\r\n"
                },
                {
                    "date": 1642489139959,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,15 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: isLoading ? Text('loading...') : Text(\"OK\"),\r\n+          child: isLoading\r\n+              ? SizedBox(\r\n+                  child: CircularProgressIndicator(),\r\n+                  height: 20,\r\n+                  width: 20,\r\n+                )\r\n+              : Text(\"OK\"),\r\n           onPressed: () async {\r\n             var newFileName = renameController.text;\r\n \r\n             setState(() {\r\n"
                },
                {
                    "date": 1642489360223,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,16 +67,15 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: isLoading\r\n-              ? SizedBox(\r\n-                  child: CircularProgressIndicator(),\r\n-                  height: 20,\r\n-                  width: 20,\r\n-                )\r\n-              : Text(\"OK\"),\r\n+          child: Text(\"OK\"),\r\n           onPressed: () async {\r\n+            SizedBox(\r\n+              child: CircularProgressIndicator(),\r\n+              height: 20,\r\n+              width: 20,\r\n+            );\r\n             var newFileName = renameController.text;\r\n \r\n             setState(() {\r\n               isLoading = true;\r\n"
                },
                {
                    "date": 1642489386486,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,13 +69,8 @@\n         ),\r\n         TextButton(\r\n           child: Text(\"OK\"),\r\n           onPressed: () async {\r\n-            SizedBox(\r\n-              child: CircularProgressIndicator(),\r\n-              height: 20,\r\n-              width: 20,\r\n-            );\r\n             var newFileName = renameController.text;\r\n \r\n             setState(() {\r\n               isLoading = true;\r\n"
                },
                {
                    "date": 1642489403149,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n \r\n             setState(() {\r\n               isLoading = false;\r\n             });\r\n-            Navigator.pop(context);\r\n+            // Navigator.pop(context);\r\n \r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n"
                },
                {
                    "date": 1642489443306,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,9 +80,9 @@\n \r\n             setState(() {\r\n               isLoading = false;\r\n             });\r\n-            // Navigator.pop(context);\r\n+            Navigator.pop(context);\r\n \r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n"
                },
                {
                    "date": 1642489623734,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,14 +80,35 @@\n \r\n             setState(() {\r\n               isLoading = false;\r\n             });\r\n-            Navigator.pop(context);\r\n-\r\n+             Navigator.pop(context);\r\n+      showAlertDialog(context,newFileName);\r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n         )\r\n       ],\r\n     );\r\n   }\r\n+  showAlertDialog(BuildContext context,String newFileName) {\r\n+    showDialog(\r\n+      context: context,\r\n+      builder: (BuildContext context) {\r\n+        return AlertDialog(\r\n+          title: Text(\"Succesfuly deleted\"),\r\n+          content: Text(newFileName),\r\n+          actions: [\r\n+            TextButton(\r\n+              child: Text(\"OK\"),\r\n+              onPressed: () {\r\n+                Navigator.pop(context);\r\n+              },\r\n+            ),\r\n+          ],\r\n+        );\r\n+      },\r\n+    );\r\n+    // Navigator.pop(context);\r\n+  }\r\n }\r\n+\r\n"
                },
                {
                    "date": 1642489727256,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -80,23 +80,24 @@\n \r\n             setState(() {\r\n               isLoading = false;\r\n             });\r\n-             Navigator.pop(context);\r\n-      showAlertDialog(context,newFileName);\r\n+            Navigator.pop(context);\r\n+            showAlertDialog(context, newFileName);\r\n             // changeFileNameOnly(context, newFileName);\r\n             // Navigator.pop(context);\r\n           },\r\n         )\r\n       ],\r\n     );\r\n   }\r\n-  showAlertDialog(BuildContext context,String newFileName) {\r\n+\r\n+  showAlertDialog(BuildContext context, String newFileName) {\r\n     showDialog(\r\n       context: context,\r\n       builder: (BuildContext context) {\r\n         return AlertDialog(\r\n-          title: Text(\"Succesfuly deleted\"),\r\n+          title: Text(\"Succesfuly rename\"),\r\n           content: Text(newFileName),\r\n           actions: [\r\n             TextButton(\r\n               child: Text(\"OK\"),\r\n@@ -110,5 +111,4 @@\n     );\r\n     // Navigator.pop(context);\r\n   }\r\n }\r\n-\r\n"
                },
                {
                    "date": 1642489832468,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -67,9 +67,17 @@\n             Navigator.pop(context);\r\n           },\r\n         ),\r\n         TextButton(\r\n-          child: Text(\"OK\"),\r\n+          child: isLoading\r\n+              ? Center(\r\n+                  child: SizedBox(\r\n+                    child: Text('Loading...'),\r\n+                    height: 20,\r\n+                    width: 20,\r\n+                  ),\r\n+                )\r\n+              : Text(\"OK\"),\r\n           onPressed: () async {\r\n             var newFileName = renameController.text;\r\n \r\n             setState(() {\r\n"
                },
                {
                    "date": 1642490447217,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,5 @@\n-import 'dart:io';\r\n-\r\n import 'package:flutter/material.dart';\r\n-import 'package:pdfviewer/service/pdf_file_service.dart';\r\n-import 'package:provider/provider.dart';\r\n \r\n class RenameFileDialouge extends StatefulWidget {\r\n   final int index;\r\n   final String fileName;\r\n"
                },
                {
                    "date": 1642490480013,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,16 +1,11 @@\n import 'package:flutter/material.dart';\r\n \r\n class RenameFileDialouge extends StatefulWidget {\r\n-  final int index;\r\n   final String fileName;\r\n   final Function callback;\r\n \r\n-  RenameFileDialouge(\r\n-      {Key? key,\r\n-      required this.index,\r\n-      required this.fileName,\r\n-      required this.callback})\r\n+  RenameFileDialouge({Key? key, required this.fileName, required this.callback})\r\n       : super(key: key);\r\n \r\n   @override\r\n   _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n"
                },
                {
                    "date": 1642491154928,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -81,10 +81,8 @@\n               isLoading = false;\r\n             });\r\n             Navigator.pop(context);\r\n             showAlertDialog(context, newFileName);\r\n-            // changeFileNameOnly(context, newFileName);\r\n-            // Navigator.pop(context);\r\n           },\r\n         )\r\n       ],\r\n     );\r\n"
                },
                {
                    "date": 1642492956354,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -68,13 +68,13 @@\n                   ),\r\n                 )\r\n               : Text(\"OK\"),\r\n           onPressed: () async {\r\n-            var newFileName = renameController.text;\r\n-\r\n             setState(() {\r\n               isLoading = true;\r\n             });\r\n+            var newFileName = renameController.text;\r\n+\r\n             print(newFileName.split('.'));\r\n             await widget.callback(newFileName);\r\n \r\n             setState(() {\r\n"
                },
                {
                    "date": 1642493013216,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -87,15 +87,15 @@\n       ],\r\n     );\r\n   }\r\n \r\n-  showAlertDialog(BuildContext context, String newFileName) {\r\n+  showAlertDialog(BuildContext context) {\r\n     showDialog(\r\n       context: context,\r\n       builder: (BuildContext context) {\r\n         return AlertDialog(\r\n           title: Text(\"Succesfuly rename\"),\r\n-          content: Text(newFileName),\r\n+          content: Text(renameController.text),\r\n           actions: [\r\n             TextButton(\r\n               child: Text(\"OK\"),\r\n               onPressed: () {\r\n"
                }
            ],
            "date": 1642076212258,
            "name": "Commit-0",
            "content": "import 'dart:io';\r\n\r\nimport 'package:flutter/material.dart';\r\nimport 'package:pdfviewer/service/pdf_file_service.dart';\r\nimport 'package:provider/provider.dart';\r\n\r\nclass RenameFileDialouge extends StatefulWidget {\r\n  final int index;\r\n  final String fileName;\r\n  RenameFileDialouge({Key? key, required this.index, required this.fileName})\r\n      : super(key: key);\r\n\r\n  @override\r\n  _RenameFileDialougeState createState() => _RenameFileDialougeState();\r\n}\r\n\r\nclass _RenameFileDialougeState extends State<RenameFileDialouge> {\r\n  final _formKeyRenameFile = GlobalKey<FormState>();\r\n  TextEditingController renameController = TextEditingController();\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n    renameController.text = widget.fileName.split('/').last.split('.pdf').first;\r\n  }\r\n\r\n  // set up the AlertDialog\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return AlertDialog(\r\n      title: Text(\"Alert!\"),\r\n      content: Container(\r\n        height: 70,\r\n        child: Form(\r\n          key: _formKeyRenameFile,\r\n          child: Column(\r\n            mainAxisSize: MainAxisSize.min,\r\n            children: [\r\n              TextFormField(\r\n                controller: renameController,\r\n                validator: (value) {\r\n                  if (value != null && value != \"\") {\r\n                    return null;\r\n                  }\r\n                },\r\n                keyboardType: TextInputType.text,\r\n                // Only numbers can be entered\r\n                decoration: const InputDecoration(\r\n                    border: UnderlineInputBorder(),\r\n                    helperText: 'Enter new name here '),\r\n              ),\r\n            ],\r\n          ),\r\n        ),\r\n      ),\r\n      actions: [\r\n        TextButton(\r\n          child: Text(\"CANCEL\"),\r\n          onPressed: () {\r\n            Navigator.pop(context);\r\n          },\r\n        ),\r\n        TextButton(\r\n          child: Text(\"OK\"),\r\n          onPressed: () {\r\n            var newFileName = renameController.text;\r\n            print(newFileName.split('.'));\r\n            changeFileNameOnly(context, newFileName);\r\n            Navigator.pop(context);\r\n          },\r\n        )\r\n      ],\r\n    );\r\n  }\r\n\r\n  changeFileNameOnly(BuildContext context, String newFileName) async {\r\n    print(\"------------->arrived new name----$newFileName--------\");\r\n    var providerService = Provider.of<PdfFileService>(context, listen: false);\r\n\r\n    var temp1 = providerService.files[widget.index].referenceFile!.path;\r\n\r\n    var lastSeparator = temp1.lastIndexOf(Platform.pathSeparator);\r\n    var newPath = temp1.substring(0, lastSeparator + 1) + newFileName + \".pdf\";\r\n\r\n    var filename = await providerService.files[widget.index].referenceFile!\r\n        .rename(newPath);\r\n\r\n    print(\"-------------v.path data---------------- ${filename.path}\");\r\n\r\n    providerService.files[widget.index].referenceFile = filename;\r\n    providerService.files[widget.index].pdfpath = filename.path;\r\n\r\n    providerService.files[widget.index].pdfname = filename.path.split('/').last;\r\n\r\n    providerService.getStorageFilleMethod();\r\n\r\n    Navigator.pop(context);\r\n    ScaffoldMessenger.of(context).clearSnackBars();\r\n    ScaffoldMessenger.of(context).showSnackBar(\r\n      SnackBar(\r\n        content: Text(\"Renamed to  ${newFileName}\"),\r\n      ),\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}