{
    "sourceFile": "lib/MainPages/homepage/homepage_body.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 29,
            "patches": [
                {
                    "date": 1642075605732,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1642075634020,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -30,8 +30,9 @@\n             var fileDate = pdfservice.files[index].date.toString();\r\n             var fileSize = pdfservice.files[index].size.toString();\r\n             var fileTitle = pdfservice.files[index].pdfname.toString();\r\n \r\n+            // why here ?\r\n             var isfav = pdfservice.favoritePdfList\r\n                 .where((element) => element.pdfpath == filePath);\r\n             return Card(\r\n               child: ListTile(\r\n"
                },
                {
                    "date": 1642075880305,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -62,11 +62,9 @@\n                               color: Colors.white,\r\n                               height: 350,\r\n                               child: Column(\r\n                                 children: [\r\n-                                  TitleOfPdf(\r\n-                                      titlePath: pdfservice.files[index].pdfname\r\n-                                          .toString()),\r\n+                                  TitleOfPdf(titlePath: fileTitle),\r\n                                   ShareFiles(\r\n                                     fileName: filePath,\r\n                                     index: index,\r\n                                   ),\r\n"
                },
                {
                    "date": 1642076283199,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -25,12 +25,13 @@\n       builder: (context, pdfservice, child) {\r\n         return ListView.builder(\r\n           itemCount: pdfservice.files.length,\r\n           itemBuilder: (BuildContext ctxt, index) {\r\n-            var filePath = pdfservice.files[index].pdfpath.toString();\r\n-            var fileDate = pdfservice.files[index].date.toString();\r\n-            var fileSize = pdfservice.files[index].size.toString();\r\n-            var fileTitle = pdfservice.files[index].pdfname.toString();\r\n+            var fileIndex = pdfservice.files[index];\r\n+            var filePath = fileIndex.pdfpath.toString();\r\n+            var fileDate = fileIndex.date.toString();\r\n+            var fileSize = fileIndex.size.toString();\r\n+            var fileTitle = fileIndex.pdfname.toString();\r\n \r\n             // why here ?\r\n             var isfav = pdfservice.favoritePdfList\r\n                 .where((element) => element.pdfpath == filePath);\r\n@@ -120,9 +121,9 @@\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n                         return ViewPDF(\r\n-                          pdfmodel: pdfservice.files[index],\r\n+                          pdfmodel: fileIndex,\r\n                         );\r\n                       },\r\n                     ),\r\n                   );\r\n"
                },
                {
                    "date": 1642076328947,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,9 +121,9 @@\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n                         return ViewPDF(\r\n-                          pdfmodel: fileIndex,\r\n+                          pdfmodel: pdfservice.files[index],\r\n                         );\r\n                       },\r\n                     ),\r\n                   );\r\n"
                },
                {
                    "date": 1642076480487,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,8 +70,9 @@\n                                     index: index,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n+                                    pdfmodel: pdfservice.files[index],\r\n                                     index: index,\r\n                                     fileName: filePath,\r\n                                   ),\r\n                                   DeleteFileWidget(\r\n"
                },
                {
                    "date": 1642076681396,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,9 @@\n                                     index: index,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n-                                    pdfmodel: pdfservice.files[index],\r\n+                                    \r\n                                     index: index,\r\n                                     fileName: filePath,\r\n                                   ),\r\n                                   DeleteFileWidget(\r\n"
                },
                {
                    "date": 1642405190703,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,9 +70,8 @@\n                                     index: index,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n-                                    \r\n                                     index: index,\r\n                                     fileName: filePath,\r\n                                   ),\r\n                                   DeleteFileWidget(\r\n"
                },
                {
                    "date": 1642405948756,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,11 @@\n+import 'dart:js';\r\n+\r\n import 'package:flutter/material.dart';\r\n import 'package:pdfviewer/MainPages/homepage/addremove_widget.dart';\r\n import 'package:pdfviewer/SQLService/recent_pdf_service.dart';\r\n import 'package:pdfviewer/SQLService/sqlService.dart';\r\n+import 'package:pdfviewer/common%20method/add-into_recents.dart';\r\n import 'package:pdfviewer/service/pdf_file_service.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/delete_file_widget.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/share_file_widget.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/page_view.dart';\r\n@@ -92,42 +95,43 @@\n                   ],\r\n                 ),\r\n                 onTap: () async {\r\n                   // recent_index = index;\r\n+                  AddIntoRecents()\r\n+                      .addIntoRecentsMethod(filePath, context, fileIndex);\r\n+                  // Map<String, Object> data = {\r\n+                  //   'recentpdf': (filePath),\r\n+                  // };\r\n \r\n-                  Map<String, Object> data = {\r\n-                    'recentpdf': (filePath),\r\n-                  };\r\n+                  // if (!data.isEmpty) {\r\n+                  //   try {\r\n+                  //     await RecentSQLPDFService()\r\n+                  //         .insertRecentPDF(data, SqlModel.tableRecent);\r\n \r\n-                  if (!data.isEmpty) {\r\n-                    try {\r\n-                      await RecentSQLPDFService()\r\n-                          .insertRecentPDF(data, SqlModel.tableRecent);\r\n-\r\n-                      Provider.of<PdfFileService>(context, listen: false)\r\n-                          .getRecentPdfList();\r\n-                    } catch (e) {\r\n-                      ScaffoldMessenger.of(context).clearSnackBars();\r\n-                      ScaffoldMessenger.of(context).showSnackBar(\r\n-                        SnackBar(\r\n-                          content: Text(\r\n-                            e.toString(),\r\n-                          ),\r\n-                        ),\r\n-                      );\r\n-                    }\r\n-                    print(\"pdfname is--------------> $data\");\r\n-                  }\r\n-                  Navigator.push(\r\n-                    context,\r\n-                    MaterialPageRoute(\r\n-                      builder: (context) {\r\n-                        return ViewPDF(\r\n-                          pdfmodel: pdfservice.files[index],\r\n-                        );\r\n-                      },\r\n-                    ),\r\n-                  );\r\n+                  //     Provider.of<PdfFileService>(context, listen: false)\r\n+                  //         .getRecentPdfList();\r\n+                  //   } catch (e) {\r\n+                  //     ScaffoldMessenger.of(context).clearSnackBars();\r\n+                  //     ScaffoldMessenger.of(context).showSnackBar(\r\n+                  //       SnackBar(\r\n+                  //         content: Text(\r\n+                  //           e.toString(),\r\n+                  //         ),\r\n+                  //       ),\r\n+                  //     );\r\n+                  //   }\r\n+                  //   print(\"pdfname is--------------> $data\");\r\n+                  // }\r\n+                  // Navigator.push(\r\n+                  //   context,\r\n+                  //   MaterialPageRoute(\r\n+                  //     builder: (context) {\r\n+                  //       return ViewPDF(\r\n+                  //         pdfmodel: pdfservice.files[index],\r\n+                  //       );\r\n+                  //     },\r\n+                  //   ),\r\n+                  // );\r\n                 },\r\n               ),\r\n             );\r\n           },\r\n"
                },
                {
                    "date": 1642407186862,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,10 +73,13 @@\n                                     index: index,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n-                                    index: index,\r\n+                                    // index: index,\r\n                                     fileName: filePath,\r\n+                                    onRename: (String newName) {\r\n+                                      pdfservice.rename(index, newName);\r\n+                                    },\r\n                                   ),\r\n                                   DeleteFileWidget(\r\n                                     index: index,\r\n                                     fileName: filePath,\r\n@@ -95,43 +98,42 @@\n                   ],\r\n                 ),\r\n                 onTap: () async {\r\n                   // recent_index = index;\r\n-                  AddIntoRecents()\r\n-                      .addIntoRecentsMethod(filePath, context, fileIndex);\r\n-                  // Map<String, Object> data = {\r\n-                  //   'recentpdf': (filePath),\r\n-                  // };\r\n \r\n-                  // if (!data.isEmpty) {\r\n-                  //   try {\r\n-                  //     await RecentSQLPDFService()\r\n-                  //         .insertRecentPDF(data, SqlModel.tableRecent);\r\n+                  Map<String, Object> data = {\r\n+                    'recentpdf': (filePath),\r\n+                  };\r\n \r\n-                  //     Provider.of<PdfFileService>(context, listen: false)\r\n-                  //         .getRecentPdfList();\r\n-                  //   } catch (e) {\r\n-                  //     ScaffoldMessenger.of(context).clearSnackBars();\r\n-                  //     ScaffoldMessenger.of(context).showSnackBar(\r\n-                  //       SnackBar(\r\n-                  //         content: Text(\r\n-                  //           e.toString(),\r\n-                  //         ),\r\n-                  //       ),\r\n-                  //     );\r\n-                  //   }\r\n-                  //   print(\"pdfname is--------------> $data\");\r\n-                  // }\r\n-                  // Navigator.push(\r\n-                  //   context,\r\n-                  //   MaterialPageRoute(\r\n-                  //     builder: (context) {\r\n-                  //       return ViewPDF(\r\n-                  //         pdfmodel: pdfservice.files[index],\r\n-                  //       );\r\n-                  //     },\r\n-                  //   ),\r\n-                  // );\r\n+                  if (!data.isEmpty) {\r\n+                    try {\r\n+                      await RecentSQLPDFService()\r\n+                          .insertRecentPDF(data, SqlModel.tableRecent);\r\n+\r\n+                      Provider.of<PdfFileService>(context, listen: false)\r\n+                          .getRecentPdfList();\r\n+                    } catch (e) {\r\n+                      ScaffoldMessenger.of(context).clearSnackBars();\r\n+                      ScaffoldMessenger.of(context).showSnackBar(\r\n+                        SnackBar(\r\n+                          content: Text(\r\n+                            e.toString(),\r\n+                          ),\r\n+                        ),\r\n+                      );\r\n+                    }\r\n+                    print(\"pdfname is--------------> $data\");\r\n+                  }\r\n+                  Navigator.push(\r\n+                    context,\r\n+                    MaterialPageRoute(\r\n+                      builder: (context) {\r\n+                        return ViewPDF(\r\n+                          pdfmodel: pdfservice.files[index],\r\n+                        );\r\n+                      },\r\n+                    ),\r\n+                  );\r\n                 },\r\n               ),\r\n             );\r\n           },\r\n"
                },
                {
                    "date": 1642407219818,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -73,13 +73,13 @@\n                                     index: index,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n-                                    // index: index,\r\n+                                    index: index,\r\n                                     fileName: filePath,\r\n-                                    onRename: (String newName) {\r\n-                                      pdfservice.rename(index, newName);\r\n-                                    },\r\n+                                    // onRename: (String newName) {\r\n+                                    //   pdfservice.rename(index, newName);\r\n+                                    // },\r\n                                   ),\r\n                                   DeleteFileWidget(\r\n                                     index: index,\r\n                                     fileName: filePath,\r\n"
                },
                {
                    "date": 1642413536287,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -3,9 +3,8 @@\n import 'package:flutter/material.dart';\r\n import 'package:pdfviewer/MainPages/homepage/addremove_widget.dart';\r\n import 'package:pdfviewer/SQLService/recent_pdf_service.dart';\r\n import 'package:pdfviewer/SQLService/sqlService.dart';\r\n-import 'package:pdfviewer/common%20method/add-into_recents.dart';\r\n import 'package:pdfviewer/service/pdf_file_service.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/delete_file_widget.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/share_file_widget.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/page_view.dart';\r\n"
                },
                {
                    "date": 1642413543100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,6 +1,4 @@\n-import 'dart:js';\r\n-\r\n import 'package:flutter/material.dart';\r\n import 'package:pdfviewer/MainPages/homepage/addremove_widget.dart';\r\n import 'package:pdfviewer/SQLService/recent_pdf_service.dart';\r\n import 'package:pdfviewer/SQLService/sqlService.dart';\r\n"
                },
                {
                    "date": 1642485564637,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -70,14 +70,18 @@\n                                     index: index,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n-                                    index: index,\r\n-                                    fileName: filePath,\r\n-                                    // onRename: (String newName) {\r\n-                                    //   pdfservice.rename(index, newName);\r\n-                                    // },\r\n-                                  ),\r\n+                                      index: index,\r\n+                                      fileName: filePath,\r\n+                                      callback: (String newFileName) {\r\n+                                        pdfservice.changeFileNameOnly(\r\n+                                            context, newFileName, index);\r\n+                                      }\r\n+                                      // onRename: (String newName) {\r\n+                                      //   pdfservice.rename(index, newName);\r\n+                                      // },\r\n+                                      ),\r\n                                   DeleteFileWidget(\r\n                                     index: index,\r\n                                     fileName: filePath,\r\n                                   ),\r\n"
                },
                {
                    "date": 1642491423295,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -75,17 +75,16 @@\n                                       fileName: filePath,\r\n                                       callback: (String newFileName) {\r\n                                         pdfservice.changeFileNameOnly(\r\n                                             context, newFileName, index);\r\n-                                      }\r\n-                                      // onRename: (String newName) {\r\n-                                      //   pdfservice.rename(index, newName);\r\n-                                      // },\r\n-                                      ),\r\n+                                      }),\r\n                                   DeleteFileWidget(\r\n-                                    index: index,\r\n-                                    fileName: filePath,\r\n-                                  ),\r\n+                                      index: index,\r\n+                                      fileName: filePath,\r\n+                                      callback: (String newFileName) {\r\n+                                        pdfservice.changeFileNameOnly(\r\n+                                            context, newFileName, index);\r\n+                                      }),\r\n                                 ],\r\n                               ),\r\n                             );\r\n                           },\r\n"
                },
                {
                    "date": 1642492045100,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -77,14 +77,11 @@\n                                         pdfservice.changeFileNameOnly(\r\n                                             context, newFileName, index);\r\n                                       }),\r\n                                   DeleteFileWidget(\r\n-                                      index: index,\r\n-                                      fileName: filePath,\r\n-                                      callback: (String newFileName) {\r\n-                                        pdfservice.changeFileNameOnly(\r\n-                                            context, newFileName, index);\r\n-                                      }),\r\n+                                    index: index,\r\n+                                    fileName: filePath,\r\n+                                  ),\r\n                                 ],\r\n                               ),\r\n                             );\r\n                           },\r\n"
                },
                {
                    "date": 1642492249911,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -66,9 +66,8 @@\n                                 children: [\r\n                                   TitleOfPdf(titlePath: fileTitle),\r\n                                   ShareFiles(\r\n                                     fileName: filePath,\r\n-                                    index: index,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n                                       index: index,\r\n"
                },
                {
                    "date": 1642492380708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -76,9 +76,8 @@\n                                         pdfservice.changeFileNameOnly(\r\n                                             context, newFileName, index);\r\n                                       }),\r\n                                   DeleteFileWidget(\r\n-                                    index: index,\r\n                                     fileName: filePath,\r\n                                   ),\r\n                                 ],\r\n                               ),\r\n"
                },
                {
                    "date": 1642493125086,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -69,9 +69,8 @@\n                                     fileName: filePath,\r\n                                   ),\r\n                                   AddRemoveWidget(paths: filePath),\r\n                                   RenameFileWidget(\r\n-                                      index: index,\r\n                                       fileName: filePath,\r\n                                       callback: (String newFileName) {\r\n                                         pdfservice.changeFileNameOnly(\r\n                                             context, newFileName, index);\r\n"
                },
                {
                    "date": 1642564466317,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,8 +122,9 @@\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n                         return ViewPDF(\r\n                           pdfmodel: pdfservice.files[index],\r\n+                          index: index,\r\n                         );\r\n                       },\r\n                     ),\r\n                   );\r\n"
                },
                {
                    "date": 1642564806447,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -122,9 +122,8 @@\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n                         return ViewPDF(\r\n                           pdfmodel: pdfservice.files[index],\r\n-                          index: index,\r\n                         );\r\n                       },\r\n                     ),\r\n                   );\r\n"
                },
                {
                    "date": 1642565207213,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -121,10 +121,13 @@\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n                         return ViewPDF(\r\n-                          pdfmodel: pdfservice.files[index],\r\n-                        );\r\n+                            pdfmodel: pdfservice.files[index],\r\n+                            callback: (String newFileName) {\r\n+                              pdfservice.changeFileNameOnly(\r\n+                                  context, newFileName, index);\r\n+                            });\r\n                       },\r\n                     ),\r\n                   );\r\n                 },\r\n"
                },
                {
                    "date": 1642566716667,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,33 +91,17 @@\n                     ),\r\n                   ],\r\n                 ),\r\n                 onTap: () async {\r\n-                  // recent_index = index;\r\n-\r\n                   Map<String, Object> data = {\r\n                     'recentpdf': (filePath),\r\n                   };\r\n \r\n-                  if (!data.isEmpty) {\r\n-                    try {\r\n-                      await RecentSQLPDFService()\r\n-                          .insertRecentPDF(data, SqlModel.tableRecent);\r\n+                  RecentSQLPDFService()\r\n+                      .insertRecentPDF(data, SqlModel.tableRecent);\r\n \r\n-                      Provider.of<PdfFileService>(context, listen: false)\r\n-                          .getRecentPdfList();\r\n-                    } catch (e) {\r\n-                      ScaffoldMessenger.of(context).clearSnackBars();\r\n-                      ScaffoldMessenger.of(context).showSnackBar(\r\n-                        SnackBar(\r\n-                          content: Text(\r\n-                            e.toString(),\r\n-                          ),\r\n-                        ),\r\n-                      );\r\n-                    }\r\n-                    print(\"pdfname is--------------> $data\");\r\n-                  }\r\n+                  Provider.of<PdfFileService>(context, listen: false)\r\n+                      .getRecentPdfList();\r\n                   Navigator.push(\r\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n"
                },
                {
                    "date": 1642566735211,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -94,14 +94,12 @@\n                 onTap: () async {\r\n                   Map<String, Object> data = {\r\n                     'recentpdf': (filePath),\r\n                   };\r\n-\r\n                   RecentSQLPDFService()\r\n                       .insertRecentPDF(data, SqlModel.tableRecent);\r\n \r\n-                  Provider.of<PdfFileService>(context, listen: false)\r\n-                      .getRecentPdfList();\r\n+                  pdfservice.getRecentPdfList();\r\n                   Navigator.push(\r\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n"
                },
                {
                    "date": 1642566992670,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,9 +97,10 @@\n                   };\r\n                   RecentSQLPDFService()\r\n                       .insertRecentPDF(data, SqlModel.tableRecent);\r\n \r\n-                  pdfservice.getRecentPdfList();\r\n+                  Provider.of<PdfFileService>(context, listen: false)\r\n+                      .getRecentPdfList();\r\n                   Navigator.push(\r\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n"
                },
                {
                    "date": 1642567177531,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,16 +91,33 @@\n                     ),\r\n                   ],\r\n                 ),\r\n                 onTap: () async {\r\n+                  // recent_index = index;\r\n+\r\n                   Map<String, Object> data = {\r\n                     'recentpdf': (filePath),\r\n                   };\r\n-                  RecentSQLPDFService()\r\n-                      .insertRecentPDF(data, SqlModel.tableRecent);\r\n \r\n-                  Provider.of<PdfFileService>(context, listen: false)\r\n-                      .getRecentPdfList();\r\n+                  if (!data.isEmpty) {\r\n+                    try {\r\n+                      await RecentSQLPDFService()\r\n+                          .insertRecentPDF(data, SqlModel.tableRecent);\r\n+\r\n+                      Provider.of<PdfFileService>(context, listen: false)\r\n+                          .getRecentPdfList();\r\n+                    } catch (e) {\r\n+                      ScaffoldMessenger.of(context).clearSnackBars();\r\n+                      ScaffoldMessenger.of(context).showSnackBar(\r\n+                        SnackBar(\r\n+                          content: Text(\r\n+                            e.toString(),\r\n+                          ),\r\n+                        ),\r\n+                      );\r\n+                    }\r\n+                    print(\"pdfname is--------------> $data\");\r\n+                  }\r\n                   Navigator.push(\r\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n"
                },
                {
                    "date": 1642567277302,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -97,27 +97,13 @@\n                   Map<String, Object> data = {\r\n                     'recentpdf': (filePath),\r\n                   };\r\n \r\n-                  if (!data.isEmpty) {\r\n-                    try {\r\n-                      await RecentSQLPDFService()\r\n-                          .insertRecentPDF(data, SqlModel.tableRecent);\r\n+                  await RecentSQLPDFService()\r\n+                      .insertRecentPDF(data, SqlModel.tableRecent);\r\n \r\n-                      Provider.of<PdfFileService>(context, listen: false)\r\n-                          .getRecentPdfList();\r\n-                    } catch (e) {\r\n-                      ScaffoldMessenger.of(context).clearSnackBars();\r\n-                      ScaffoldMessenger.of(context).showSnackBar(\r\n-                        SnackBar(\r\n-                          content: Text(\r\n-                            e.toString(),\r\n-                          ),\r\n-                        ),\r\n-                      );\r\n-                    }\r\n-                    print(\"pdfname is--------------> $data\");\r\n-                  }\r\n+                  Provider.of<PdfFileService>(context, listen: false)\r\n+                      .getRecentPdfList();\r\n                   Navigator.push(\r\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n"
                },
                {
                    "date": 1642567283912,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,10 +91,8 @@\n                     ),\r\n                   ],\r\n                 ),\r\n                 onTap: () async {\r\n-                  // recent_index = index;\r\n-\r\n                   Map<String, Object> data = {\r\n                     'recentpdf': (filePath),\r\n                   };\r\n \r\n"
                },
                {
                    "date": 1642567514169,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -91,17 +91,8 @@\n                     ),\r\n                   ],\r\n                 ),\r\n                 onTap: () async {\r\n-                  Map<String, Object> data = {\r\n-                    'recentpdf': (filePath),\r\n-                  };\r\n-\r\n-                  await RecentSQLPDFService()\r\n-                      .insertRecentPDF(data, SqlModel.tableRecent);\r\n-\r\n-                  Provider.of<PdfFileService>(context, listen: false)\r\n-                      .getRecentPdfList();\r\n                   Navigator.push(\r\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n"
                },
                {
                    "date": 1642567575691,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,9 @@\n import 'package:flutter/material.dart';\r\n import 'package:pdfviewer/MainPages/homepage/addremove_widget.dart';\r\n import 'package:pdfviewer/SQLService/recent_pdf_service.dart';\r\n import 'package:pdfviewer/SQLService/sqlService.dart';\r\n+import 'package:pdfviewer/common%20mehtod/addIntoRecentMethod.dart';\r\n import 'package:pdfviewer/service/pdf_file_service.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/delete_file_widget.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/share_file_widget.dart';\r\n import 'package:pdfviewer/widget/CommonWidget/page_view.dart';\r\n@@ -91,8 +92,9 @@\n                     ),\r\n                   ],\r\n                 ),\r\n                 onTap: () async {\r\n+                  AddIntoRecentsMethod().addIntoRecents(filePath, context);\r\n                   Navigator.push(\r\n                     context,\r\n                     MaterialPageRoute(\r\n                       builder: (context) {\r\n"
                }
            ],
            "date": 1642075605732,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:pdfviewer/MainPages/homepage/addremove_widget.dart';\r\nimport 'package:pdfviewer/SQLService/recent_pdf_service.dart';\r\nimport 'package:pdfviewer/SQLService/sqlService.dart';\r\nimport 'package:pdfviewer/service/pdf_file_service.dart';\r\nimport 'package:pdfviewer/widget/CommonWidget/delete_file_widget.dart';\r\nimport 'package:pdfviewer/widget/CommonWidget/share_file_widget.dart';\r\nimport 'package:pdfviewer/widget/CommonWidget/page_view.dart';\r\nimport 'package:pdfviewer/widget/CommonWidget/rename_files_widget.dart';\r\nimport 'package:pdfviewer/widget/CommonWidget/title_of_bottomsheetpdf.dart';\r\nimport 'package:pdfviewer/widget/CommonWidget/favorite_icon.dart';\r\nimport 'package:provider/provider.dart';\r\n\r\nclass HomepageBody extends StatefulWidget {\r\n  HomepageBody({Key? key}) : super(key: key);\r\n\r\n  @override\r\n  _HomepageBodyState createState() => _HomepageBodyState();\r\n}\r\n\r\nclass _HomepageBodyState extends State<HomepageBody> {\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Consumer<PdfFileService>(\r\n      builder: (context, pdfservice, child) {\r\n        return ListView.builder(\r\n          itemCount: pdfservice.files.length,\r\n          itemBuilder: (BuildContext ctxt, index) {\r\n            var filePath = pdfservice.files[index].pdfpath.toString();\r\n            var fileDate = pdfservice.files[index].date.toString();\r\n            var fileSize = pdfservice.files[index].size.toString();\r\n            var fileTitle = pdfservice.files[index].pdfname.toString();\r\n\r\n            var isfav = pdfservice.favoritePdfList\r\n                .where((element) => element.pdfpath == filePath);\r\n            return Card(\r\n              child: ListTile(\r\n                title: Text(fileTitle),\r\n                subtitle: fileSize.length < 7\r\n                    ? Text(\"${fileDate}\\n${fileSize} Kb\")\r\n                    : Text(\r\n                        \"${fileDate}\\n${(double.parse(fileSize) / 1024).toStringAsFixed(2)} Mb\"),\r\n                leading: Icon(\r\n                  Icons.picture_as_pdf,\r\n                  color: Colors.red,\r\n                ),\r\n                trailing: Wrap(\r\n                  alignment: WrapAlignment.center,\r\n                  children: [\r\n                    FavoriteStarIcon(isfav: isfav),\r\n                    IconButton(\r\n                      constraints: BoxConstraints(),\r\n                      padding:\r\n                          EdgeInsets.symmetric(horizontal: 0, vertical: 10),\r\n                      onPressed: () {\r\n                        print(filePath);\r\n                        showModalBottomSheet<void>(\r\n                          context: context,\r\n                          builder: (BuildContext context) {\r\n                            return Container(\r\n                              color: Colors.white,\r\n                              height: 350,\r\n                              child: Column(\r\n                                children: [\r\n                                  TitleOfPdf(\r\n                                      titlePath: pdfservice.files[index].pdfname\r\n                                          .toString()),\r\n                                  ShareFiles(\r\n                                    fileName: filePath,\r\n                                    index: index,\r\n                                  ),\r\n                                  AddRemoveWidget(paths: filePath),\r\n                                  RenameFileWidget(\r\n                                    index: index,\r\n                                    fileName: filePath,\r\n                                  ),\r\n                                  DeleteFileWidget(\r\n                                    index: index,\r\n                                    fileName: filePath,\r\n                                  ),\r\n                                ],\r\n                              ),\r\n                            );\r\n                          },\r\n                        );\r\n                      },\r\n                      icon: Icon(\r\n                        Icons.more_vert,\r\n                        color: Colors.redAccent,\r\n                      ),\r\n                    ),\r\n                  ],\r\n                ),\r\n                onTap: () async {\r\n                  // recent_index = index;\r\n\r\n                  Map<String, Object> data = {\r\n                    'recentpdf': (filePath),\r\n                  };\r\n\r\n                  if (!data.isEmpty) {\r\n                    try {\r\n                      await RecentSQLPDFService()\r\n                          .insertRecentPDF(data, SqlModel.tableRecent);\r\n\r\n                      Provider.of<PdfFileService>(context, listen: false)\r\n                          .getRecentPdfList();\r\n                    } catch (e) {\r\n                      ScaffoldMessenger.of(context).clearSnackBars();\r\n                      ScaffoldMessenger.of(context).showSnackBar(\r\n                        SnackBar(\r\n                          content: Text(\r\n                            e.toString(),\r\n                          ),\r\n                        ),\r\n                      );\r\n                    }\r\n                    print(\"pdfname is--------------> $data\");\r\n                  }\r\n                  Navigator.push(\r\n                    context,\r\n                    MaterialPageRoute(\r\n                      builder: (context) {\r\n                        return ViewPDF(\r\n                          pdfmodel: pdfservice.files[index],\r\n                        );\r\n                      },\r\n                    ),\r\n                  );\r\n                },\r\n              ),\r\n            );\r\n          },\r\n        );\r\n      },\r\n    );\r\n  }\r\n}\r\n"
        }
    ]
}