{
    "sourceFile": "lib/MainPages/searchpage/search_page.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 0,
            "patches": [
                {
                    "date": 1642579381803,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                }
            ],
            "date": 1642579381803,
            "name": "Commit-0",
            "content": "import 'package:flutter/material.dart';\r\nimport 'package:pdfviewer/model/pdf_list_model.dart';\r\nimport 'package:pdfviewer/service/pdf_file_service.dart';\r\nimport 'package:pdfviewer/MainPages/searchpage/search_list.dart';\r\nimport 'package:provider/provider.dart';\r\n\r\nclass SearchPage extends StatefulWidget {\r\n  @override\r\n  _MyHomePageState createState() => new _MyHomePageState();\r\n}\r\n\r\nclass _MyHomePageState extends State<SearchPage> {\r\n  TextEditingController editingController = TextEditingController();\r\n\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Consumer<PdfFileService>(\r\n      builder: (context, pdfservice, child) {\r\n        return new Scaffold(\r\n          appBar: AppBar(\r\n            leading: Builder(\r\n              builder: (context) => IconButton(\r\n                icon: Icon(\r\n                  Icons.arrow_back,\r\n                  color: Colors.black,\r\n                ),\r\n                onPressed: () {\r\n                  Navigator.pop(context);\r\n                },\r\n              ),\r\n            ),\r\n            backgroundColor: Colors.white,\r\n            title: TextField(\r\n              onChanged: (value) {\r\n                filterSearchResults(\r\n                  value.toLowerCase(),\r\n                );\r\n              },\r\n              controller: editingController,\r\n              decoration: InputDecoration(\r\n                border: InputBorder.none,\r\n                focusedBorder: InputBorder.none,\r\n                enabledBorder: InputBorder.none,\r\n                errorBorder: InputBorder.none,\r\n                disabledBorder: InputBorder.none,\r\n                hintText: \"Search Documents\",\r\n                suffixIcon: IconButton(\r\n                  onPressed: editingController.clear,\r\n                  icon: Icon(Icons.clear),\r\n                ),\r\n              ),\r\n            ),\r\n          ),\r\n          body: Container(\r\n            child: Column(\r\n              children: <Widget>[\r\n                Expanded(\r\n                  child: ListView.builder(\r\n                    //if file/folder list is grabbed, then show here\r\n                    itemCount: pdfservice.items.length,\r\n                    itemBuilder: (BuildContext ctxt, index) {\r\n                      return SearchList(\r\n                        items: pdfservice.items,\r\n                        index: index,\r\n                      );\r\n                    },\r\n                  ),\r\n                ),\r\n              ],\r\n            ),\r\n          ),\r\n        );\r\n      },\r\n    );\r\n  }\r\n\r\n  void filterSearchResults(String query) {\r\n    PdfFileService pdfservice =\r\n        Provider.of<PdfFileService>(context, listen: false);\r\n    List<PdfListModel> dummySearchList = [];\r\n    dummySearchList.addAll(pdfservice.files);\r\n\r\n    if (query.isNotEmpty) {\r\n      List<PdfListModel> dummyListData = [];\r\n      dummySearchList.forEach(\r\n        (item) {\r\n          if (item.pdfname!.toLowerCase().contains(query)) {\r\n            dummyListData.add(item);\r\n          }\r\n        },\r\n      );\r\n      setState(\r\n        () {\r\n          pdfservice.items.clear();\r\n          pdfservice.items = dummyListData;\r\n        },\r\n      );\r\n    } else {\r\n      setState(\r\n        () {\r\n          pdfservice.items.clear();\r\n          pdfservice.items.addAll(pdfservice.files);\r\n        },\r\n      );\r\n    }\r\n  }\r\n}\r\n"
        }
    ]
}