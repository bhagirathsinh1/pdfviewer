{
    "sourceFile": "lib/MainPages/recentpage/recent_page.dart",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 3,
            "patches": [
                {
                    "date": 1642392739431,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1642403976259,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,8 +1,5 @@\n-import 'dart:io';\r\n-\r\n import 'package:flutter/material.dart';\r\n-import 'package:intl/intl.dart';\r\n import 'package:pdfviewer/MainPages/favoritepage/no_pdf_found.dart';\r\n \r\n import 'package:pdfviewer/service/pdf_file_service.dart';\r\n import 'package:pdfviewer/MainPages/recentpage/bottomsheet_recentpage.dart';\r\n"
                },
                {
                    "date": 1642492380700,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -92,9 +92,8 @@\n                                 context: context,\r\n                                 builder: (BuildContext context) {\r\n                                   return BotomsheetRecentPage(\r\n                                     fileName: filePath.toString(),\r\n-                                    index: index,\r\n                                   );\r\n                                 },\r\n                               );\r\n                             },\r\n"
                },
                {
                    "date": 1642565576712,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -108,10 +108,13 @@\n                             context,\r\n                             MaterialPageRoute(\r\n                               builder: (context) {\r\n                                 return ViewPDF(\r\n-                                  pdfmodel: pdfservice.recentPdfList[index],\r\n-                                );\r\n+                                    pdfmodel: pdfservice.recentPdfList[index],\r\n+                                    callback: (String newFileName) {\r\n+                                      pdfservice.changeFileNameOnly(\r\n+                                          context, newFileName, index);\r\n+                                    });\r\n                               },\r\n                             ),\r\n                           );\r\n                         },\r\n"
                }
            ],
            "date": 1642392739431,
            "name": "Commit-0",
            "content": "import 'dart:io';\r\n\r\nimport 'package:flutter/material.dart';\r\nimport 'package:intl/intl.dart';\r\nimport 'package:pdfviewer/MainPages/favoritepage/no_pdf_found.dart';\r\n\r\nimport 'package:pdfviewer/service/pdf_file_service.dart';\r\nimport 'package:pdfviewer/MainPages/recentpage/bottomsheet_recentpage.dart';\r\n\r\nimport 'package:pdfviewer/widget/CommonWidget/page_view.dart';\r\n\r\nimport 'package:pdfviewer/MainPages/recentpage/recentlist_clear_widget.dart';\r\nimport 'package:pdfviewer/widget/CommonWidget/favorite_icon.dart';\r\nimport 'package:provider/provider.dart';\r\n\r\nclass Recentpage extends StatefulWidget {\r\n  const Recentpage({Key? key}) : super(key: key);\r\n\r\n  @override\r\n  _RecentpageState createState() => _RecentpageState();\r\n}\r\n\r\nclass _RecentpageState extends State<Recentpage> {\r\n  @override\r\n  void initState() {\r\n    super.initState();\r\n  }\r\n\r\n  @override\r\n  Widget build(BuildContext context) {\r\n    return Consumer<PdfFileService>(builder: (context, pdfservice, child) {\r\n      return Scaffold(\r\n          backgroundColor: Colors.white,\r\n          appBar: AppBar(\r\n            backgroundColor: Colors.white,\r\n            title: Text(\r\n              \"PDF Reader\",\r\n              style: TextStyle(color: Colors.black),\r\n            ),\r\n            actions: <Widget>[\r\n              IconButton(\r\n                onPressed: () {\r\n                  showModalBottomSheet<void>(\r\n                    context: context,\r\n                    builder: (BuildContext context) {\r\n                      return RecentClear();\r\n                    },\r\n                  );\r\n                },\r\n                icon: Icon(\r\n                  Icons.more_vert,\r\n                  color: Colors.black,\r\n                ),\r\n              ),\r\n            ],\r\n          ),\r\n          body: pdfservice.recentPdfList.isEmpty\r\n              ? Center(child: NoPdfFound(listName: 'Recent'))\r\n              : ListView.builder(\r\n                  // reverse: true,\r\n                  shrinkWrap: true,\r\n                  scrollDirection: Axis.vertical,\r\n                  itemCount: pdfservice.recentPdfList.length,\r\n                  itemBuilder: (BuildContext context, int index) {\r\n                    var filePath =\r\n                        pdfservice.recentPdfList[index].pdfpath.toString();\r\n                    var fileDate =\r\n                        pdfservice.recentPdfList[index].date.toString();\r\n                    var fileSize =\r\n                        pdfservice.recentPdfList[index].size.toString();\r\n                    var fileTitle =\r\n                        pdfservice.recentPdfList[index].pdfname.toString();\r\n                    var isfav = pdfservice.favoritePdfList\r\n                        .where((element) => element.pdfpath == filePath);\r\n                    return Card(\r\n                      child: ListTile(\r\n                        title: Text(fileTitle),\r\n                        subtitle: fileSize.length < 7\r\n                            ? Text(\"${fileDate}\\n${fileSize} Kb\")\r\n                            : Text(\r\n                                \"${fileDate}\\n${(double.parse(fileSize) / 1024).toStringAsFixed(2)} Mb\"),\r\n                        leading: Icon(\r\n                          Icons.picture_as_pdf,\r\n                          color: Colors.red,\r\n                        ),\r\n                        trailing:\r\n                            Wrap(alignment: WrapAlignment.center, children: [\r\n                          FavoriteStarIcon(isfav: isfav),\r\n                          IconButton(\r\n                            constraints: BoxConstraints(),\r\n                            padding: EdgeInsets.symmetric(\r\n                                horizontal: 0, vertical: 10),\r\n                            onPressed: () async {\r\n                              await showModalBottomSheet<bool>(\r\n                                context: context,\r\n                                builder: (BuildContext context) {\r\n                                  return BotomsheetRecentPage(\r\n                                    fileName: filePath.toString(),\r\n                                    index: index,\r\n                                  );\r\n                                },\r\n                              );\r\n                            },\r\n                            icon: Icon(\r\n                              Icons.more_vert,\r\n                              color: Colors.redAccent,\r\n                            ),\r\n                          ),\r\n                        ]),\r\n                        onTap: () {\r\n                          Navigator.push(\r\n                            context,\r\n                            MaterialPageRoute(\r\n                              builder: (context) {\r\n                                return ViewPDF(\r\n                                  pdfmodel: pdfservice.recentPdfList[index],\r\n                                );\r\n                              },\r\n                            ),\r\n                          );\r\n                        },\r\n                      ),\r\n                    );\r\n                  },\r\n                ));\r\n    });\r\n  }\r\n}\r\n"
        }
    ]
}